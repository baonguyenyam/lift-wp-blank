"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var n;"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?(n=require("jquery"),module.exports=e(n)):e(window.jQuery||window.Zepto||window.$)}(function(f){var o=/\r?\n/g,t=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,s=/^(?:checkbox|radio)$/i;f.fn.serializeJSON=function(e){var o=f.serializeJSON,s=o.setupOpts(e),l=f.extend({},s.defaultTypes,s.customTypes),n=o.serializeArray(this,s),p={};return f.each(n,function(e,n){var t,r,i,a=n.name,u=f(n.el).attr("data-value-type");u||s.disableColonTypes||(a=(t=o.splitType(n.name))[0],u=t[1]),"skip"!==u&&(u=u||s.defaultType,!(r=o.applyTypeFunc(n.name,n.value,u,n.el,l))&&o.shouldSkipFalsy(n.name,a,u,n.el,s)||(i=o.splitInputNameIntoKeysArray(a),o.deepSet(p,i,r,s)))}),p},f.serializeJSON={defaultOptions:{},defaultBaseOptions:{checkboxUncheckedValue:void 0,useIntKeysAsArrayIndex:!1,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],disableColonTypes:!1,customTypes:{},defaultTypes:{string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return-1===["false","null","undefined","","0"].indexOf(e)},null:function(e){return-1===["false","null","undefined","","0"].indexOf(e)?e:null},array:function(e){return JSON.parse(e)},object:function(e){return JSON.parse(e)},skip:null},defaultType:"string"},setupOpts:function(e){null==e&&(e={});var n=f.serializeJSON,t=["checkboxUncheckedValue","useIntKeysAsArrayIndex","skipFalsyValuesForTypes","skipFalsyValuesForFields","disableColonTypes","customTypes","defaultTypes","defaultType"];for(var r in e)if(-1===t.indexOf(r))throw new Error("serializeJSON ERROR: invalid option '"+r+"'. Please use one of "+t.join(", "));return f.extend({},n.defaultBaseOptions,n.defaultOptions,e)},serializeArray:function(e,a){null==a&&(a={});var u=f.serializeJSON;return e.map(function(){var e=f.prop(this,"elements");return e?f.makeArray(e):this}).filter(function(){var e=f(this),n=this.type;return this.name&&!e.is(":disabled")&&r.test(this.nodeName)&&!t.test(n)&&(this.checked||!s.test(n)||null!=u.getCheckboxUncheckedValue(e,a))}).map(function(e,n){var t=f(this),r=t.val(),i=this.type;return null==r?null:(s.test(i)&&!this.checked&&(r=u.getCheckboxUncheckedValue(t,a)),d(r)?f.map(r,function(e){return{name:n.name,value:e.replace(o,"\r\n"),el:n}}):{name:n.name,value:r.replace(o,"\r\n"),el:n})}).get()},getCheckboxUncheckedValue:function(e,n){var t=e.attr("data-unchecked-value");return null==t&&(t=n.checkboxUncheckedValue),t},applyTypeFunc:function(e,n,t,r,i){var a=i[t];if(!a)throw new Error("serializeJSON ERROR: Invalid type "+t+" found in input name '"+e+"', please use one of "+u(i).join(", "));return a(n,r)},splitType:function(e){var n=e.split(":");if(1<n.length){var t=n.pop();return[n.join(":"),t]}return[e,""]},shouldSkipFalsy:function(e,n,t,r,i){var a=f(r).attr("data-skip-falsy");if(null!=a)return"false"!==a;var u=i.skipFalsyValuesForFields;if(u&&(-1!==u.indexOf(n)||-1!==u.indexOf(e)))return!0;var o=i.skipFalsyValuesForTypes;return!(!o||-1===o.indexOf(t))},splitInputNameIntoKeysArray:function(e){var n=e.split("[");return""===(n=f.map(n,function(e){return e.replace(/\]/g,"")}))[0]&&n.shift(),n},deepSet:function(e,n,t,r){null==r&&(r={});var i=f.serializeJSON;if(c(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");var a,u,o,s,l=n[0];1!==n.length?(a=n[1],u=n.slice(1),""===l&&(s=e[o=e.length-1],l=p(s)&&c(i.deepGet(s,u))?o:1+o),""===a||r.useIntKeysAsArrayIndex&&y(a)?!c(e[l])&&d(e[l])||(e[l]=[]):!c(e[l])&&p(e[l])||(e[l]={}),i.deepSet(e[l],u,t,r)):""===l?e.push(t):e[l]=t},deepGet:function(e,n){var t=f.serializeJSON;if(c(e)||c(n)||0===n.length||!p(e)&&!d(e))return e;var r=n[0];if(""!==r){if(1===n.length)return e[r];var i=n.slice(1);return t.deepGet(e[r],i)}}};var u=function(e){if(Object.keys)return Object.keys(e);var n,t=[];for(n in e)t.push(n);return t},p=function(e){return e===Object(e)},c=function(e){return void 0===e},y=function(e){return/^[0-9]+$/.test(String(e))},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}});