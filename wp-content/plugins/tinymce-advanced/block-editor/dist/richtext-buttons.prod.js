"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){var r={};function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=o,n.c=r,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,o){o.r(e);var v=window.tadvBlockButtons,r=window.wp,m=window.lodash.get,p=r.element.createElement,n=r.blockEditor,f=n.InspectorControls,h=n.PanelColorSettings,c=r.richText,a=c.registerFormatType,g=c.applyFormat,b=c.removeFormat,y=c.getActiveFormat;function k(t){return(t=t.replace(/.*?(background-)?color:\s*/,"")).replace(/[; ]+$/,"")}var i,l=window.tadvBlockButtons||{},u=window.wp,s=u.blockEditor.RichTextToolbarButton,d=u.richText,w=d.registerFormatType,F=d.removeFormat,T=u.element.createElement,C=u.components.ToolbarButton,x=l.strRemoveFormatting||"Clear formatting";function B(e){var t=e.formats;if(!t.length)return e;var o=0,r=t.length;e.end>e.start&&(o=e.start,r=e.end,t=t.slice(o,r));var n,c,a=(n=t,c=[],i=i||(l.formats_to_remove?l.formats_to_remove.split(","):["core/bold","core/italic","core/code","core/underline","core/strikethrough","core/text-color","tadv/sup","tadv/sub","tadv/mark","tadv/color-panel","tadv/background-color-panel"]),n.forEach(function(t){t&&t.forEach(function(t){-1<i.indexOf(t.type)&&-1===c.indexOf(t.type)&&c.push(t.type)})}),c);return a.length&&a.forEach(function(t){e=F(e,t,o,r)}),e}var A=window.wp,N=(window.tadvBlockButtons,A.element),S=N.createElement,E=N.Fragment,_=A.i18n.__,O=A.components.ToolbarButton,P=A.blockEditor,R=P.RichTextToolbarButton,L=P.RichTextShortcut,M=A.richText,U=M.registerFormatType,j=M.getActiveFormat,z=M.toggleFormat,I=(M.applyFormat,M.removeFormat,_("Strikethrough"));function G(t,e,o){e(z(t,{type:"core/strikethrough"})),o&&o()}var H=window.wp,V=H.element,$=V.createElement,q=V.Fragment,D=H.i18n.__,J=H.components.ToolbarButton,K=H.blockEditor,Q=K.RichTextToolbarButton,W=K.RichTextShortcut,X=H.richText,Y=X.registerFormatType,Z=X.getActiveFormat,tt=X.toggleFormat,et=X.remove,ot=X.applyFormat,rt=D("Inline Code");function nt(t,e,o){e(tt(t,{type:"core/code"})),o&&o()}var ct=window.wp,at=window.tadvBlockButtons||{},it=ct.element,lt=it.createElement,ut=it.Fragment,st=(ct.i18n.__,ct.components.ToolbarButton),dt=ct.blockEditor,vt=dt.RichTextToolbarButton,mt=dt.RichTextShortcut,pt=ct.components,ft=pt.Path,ht=pt.SVG,gt=ct.richText,bt=gt.registerFormatType,yt=gt.getActiveFormat,kt=gt.toggleFormat,wt=(gt.applyFormat,gt.removeFormat,lt(ht,{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",className:"dashicon tadv-mark-icon"},lt(ft,{"aria-hidden":"true",role:"img",focusable:"false",width:"20",height:"20",d:"M13.23 15h1.9L11 4H9L5 15h1.88l1.07-3h4.18zm-1.53-4.54H8.51L10 5.6z"}))),Ft=at.strMark;function Tt(t,e,o){e(kt(t,{type:"tadv/mark"})),o&&o()}var Ct=window.wp,xt=window.tadvBlockButtons||{},Bt=Ct.element,At=Bt.createElement,Nt=Bt.Fragment,St=(Ct.i18n.__,Ct.components.ToolbarButton),Et=Ct.blockEditor,_t=Et.RichTextToolbarButton,Ot=Et.RichTextShortcut,Pt=Ct.richText,Rt=Pt.registerFormatType,Lt=Pt.getActiveFormat,Mt=Pt.applyFormat,Ut=Pt.removeFormat;function jt(t,e,o,r){o(t?Ut(e,"core/underline"):Mt(e,{type:"core/underline",attributes:{style:"text-decoration: underline"}})),r&&r()}var zt=window.wp,It=window.tadvBlockButtons,Gt=zt.element,Ht=Gt.createElement,Vt=Gt.Fragment,$t=zt.richText,qt=$t.registerFormatType,Dt=$t.getActiveFormat,Jt=$t.toggleFormat,Kt=zt.components.ToolbarButton,Qt=zt.blockEditor,Wt=Qt.RichTextToolbarButton,Xt=Qt.RichTextShortcut,Yt=zt.components,Zt=Yt.Path,te=Yt.SVG,ee=Ht(te,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ht(Zt,{"aria-hidden":"true",role:"img",focusable:"false",d:"M16.9 10.3l.8-1.3c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.2-.2-.4-.4-.7-.6-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.1 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3l-1.8 2.8h4.3v-1.2h-2.2zm-2.8-3.1h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z"})),oe=Ht(te,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ht(Zt,{"aria-hidden":"true",role:"img",focusable:"false",d:"M16.9 18.3l.8-1.2c.4-.6.7-1.2.9-1.6.2-.4.3-.8.3-1.2 0-.3-.1-.7-.2-1-.1-.3-.4-.5-.6-.7-.3-.2-.6-.3-1-.3s-.8.1-1.1.2c-.3.1-.7.3-1 .6l.2 1.3c.3-.3.5-.5.8-.6s.6-.2.9-.2c.3 0 .5.1.7.2.2.2.2.4.2.7 0 .3-.1.5-.2.8-.1.3-.4.7-.8 1.3L15 19.4h4.3v-1.2h-2.4zM14.1 7.2h-2L9.5 11 6.9 7.2h-2l3.6 5.3L4.7 18h2l2.7-4 2.7 4h2l-3.8-5.5 3.8-5.3z"}));function re(t,e,o,r){o(Jt(e,{type:t})),r&&r()}function ne(t,a){var i=t.type,e=t.tagName,l=t.title,u=t.character,s=t.icon;qt(i,{title:l,tagName:e,className:null,edit:function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=t.isActive,c=null;return a||(c=Ht(Wt,{title:l,icon:s,onClick:function(){return re(i,e,o,r)},isActive:n,shortcutType:"primary",shortcutCharacter:u})),Ht(Vt,null,Ht(Xt,{type:"primary",character:u,onUse:function(){return re(i,e,o)}}),c)}})}var ce,ae=window.wp,ie=ae.element.createElement,le=ae.data.select,ue=ae.hooks.addFilter,se=ae.components,de=se.PanelBody,ve=se.Toolbar,me=ae.blockEditor.InspectorControls,pe=ae.richText,fe=pe.registerFormatType,he=pe.unregisterFormatType,ge=window.tadvBlockButtons||{},be=ge.buttons?ge.buttons.split(","):[],ye=ge.panelButtons?ge.panelButtons.split(","):[],ke=ge.unusedButtons?ge.unusedButtons.split(","):[],we={"tadv/mark":function(a){bt("tadv/mark",{title:Ft,tagName:"mark",className:null,edit:function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=t.isActive,c=null;return a||(c=lt(vt,{title:Ft,icon:wt,onClick:function(){return Tt(e,o,r)},className:"tadv-icon-button-mark",isActive:n,shortcutType:"access",shortcutCharacter:"m"})),lt(ut,null,lt(mt,{type:"access",character:"m",onUse:function(){return Tt(e,o)}}),c)}})},"tadv/removeformat":function(r){w("tadv/removeformat",{title:x,tagName:"u",className:"remove-format",edit:function(t){var e=t.value,o=t.onChange;t.onFocus,t.isActive;return r?null:T(s,{icon:"editor-removeformatting",title:x,onClick:function(){return o(B(e))},isActive:null})}})},"core/code":function(a){Y("core/code",{title:rt,tagName:"code",className:null,__unstableInputRule:function(t){var e=t.start,o=t.text;if("`"!==o.slice(e-1,e))return t;var r=o.slice(0,e-1).lastIndexOf("`");if(-1===r)return t;var n=r,c=e-2;return n===c?t:(t=et(t,n,n+1),t=et(t,c,1+c),t=ot(t,{type:"core/code"},n,c))},edit:function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=t.isActive,c=null;return a||(c=$(Q,{icon:"editor-code",title:rt,onClick:function(){return nt(e,o,r)},isActive:n,shortcutType:"access",shortcutCharacter:"x"})),$(q,null,$(W,{type:"access",character:"x",onUse:function(){return nt(e,o)}}),c)}})},"core/strikethrough":function(a){U("core/strikethrough",{name:"core/strikethrough",title:I,tagName:"s",className:null,edit:function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=t.isActive,c=null;return a||(c=S(R,{icon:"editor-strikethrough",title:I,onClick:function(){return G(e,o,r)},isActive:n,shortcutType:"access",shortcutCharacter:"d"})),S(E,null,S(L,{type:"access",character:"d",onUse:function(){return G(e,o)}}),c)}})},"core/underline":function(a){Rt("core/underline",{title:xt.strUnderline,tagName:"span",className:"underline",attributes:{style:"style"},edit:function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=t.isActive,c=null;return a||(c=At(_t,{title:xt.strUnderline,icon:"editor-underline",onClick:function(){return jt(n,e,o,r)},className:null,isActive:n,shortcutType:"primary",shortcutCharacter:"u"})),At(Nt,null,At(Ot,{type:"primary",character:"u",onUse:function(){return jt(n,e,o)}}),c)}})},"core/subscript":function(t){ne({type:"core/subscript",tagName:"sub",title:It.strSubscript,character:",",icon:oe},t)},"core/superscript":function(t){ne({type:"core/superscript",tagName:"sup",title:It.strSuperscript,character:".",icon:ee},t)}},Fe={"tadv/mark":function(t){var e=t.value,o=t.onChange,r=t.onFocus;t.isActive;return lt(st,{key:"tadv/mark",icon:"editor-textcolor",className:"tadv-icon-button tadv-icon-button-mark",isActive:yt(e,"tadv/mark"),title:Ft,onClick:function(){return Tt(e,o,r)}})},"tadv/removeformat":function(t){var e=t.value,o=t.onChange;t.onFocus,t.isActive;return T(C,{key:"tadv/removeformat",icon:"editor-removeformatting",className:"tadv-icon-button",title:x,onClick:function(){return o(B(e))}})},"core/code":function(t){var e=t.value,o=t.onChange,r=t.onFocus;t.isActive;return $(J,{key:"core/code",icon:"editor-code",className:"tadv-icon-button",isActive:Z(e,"core/code"),title:rt,onClick:function(){return nt(e,o,r)}})},"core/strikethrough":function(t){var e=t.value,o=t.onChange,r=t.onFocus;t.isActive;return S(O,{key:"core/strikethrough",icon:"editor-strikethrough",className:"tadv-icon-button",isActive:j(e,"core/strikethrough"),title:I,onClick:function(){return G(e,o,r)}})},"core/underline":function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=(t.isActive,!!Lt(e,"core/underline"));return At(St,{key:"core/underline",icon:"editor-underline",className:"tadv-icon-button",isActive:n,title:xt.strUnderline,onClick:function(){return jt(n,e,o,r)}})},"core/subscript":function(t){var e=t.value,o=t.onChange,r=t.onFocus;t.isActive;return Ht(Kt,{key:"core/subscript",icon:oe,className:"tadv-icon-button",isActive:Dt(e,"core/subscript"),title:It.strSubscript,onClick:function(){return re("core/subscript",e,o,r)}})},"core/superscript":function(t){var e=t.value,o=t.onChange,r=t.onFocus;t.isActive;return Ht(Kt,{key:"core/superscript",icon:ee,className:"tadv-icon-button",isActive:Dt(e,"core/superscript"),title:It.strSuperscript,onClick:function(){return re("core/superscript",e,o,r)}})}};function Te(t){var e,o,r;e=t,o=le("core/rich-text").getFormatTypes(),r=!1,o.forEach(function(t){t.name===e&&(r=!0)}),r&&he(t)}ue("blocks.registerBlockType","tadv-register-formats",function(t){return ce||(ke.length&&ke.forEach(function(t){Te(t)}),be.forEach(function(t){we.hasOwnProperty(t)&&(Te(t),we[t].call(null))}),ye.length&&(ye.forEach(function(t){-1===be.indexOf(t)&&we.hasOwnProperty(t)&&(Te(t),we[t].call(null,"panel"))}),fe("tadv/tadv-format-panel",{title:ge.strFormatting,tagName:"span",className:"tadv-format-panel",edit:function(t){var e=t.value,o=t.onChange,r=t.onFocus,n=t.isActive,c=[];return ye.forEach(function(t){Fe.hasOwnProperty(t)&&c.push(Fe[t].call(null,{value:e,onChange:o,onFocus:r,isActive:n}))}),ie(me,null,ie(de,{title:ge.strFormatting,className:"tadv-buttons-panel"},ie(ve,null,c)))}})),v.colorPanel&&(i=-1<v.colorPanel.indexOf("tadv/color-panel"),d=-1<v.colorPanel.indexOf("tadv/background-color-panel"),i&&a("tadv/color-panel",{title:v.strTextColor,tagName:"span",className:"tadv-color",attributes:{style:"style"},edit:function(t){var e,o,r,n,c,a,i=t.isActive,l=t.value,u=t.onChange;i&&(e=y(l,"tadv/color-panel"),o=m(e,["attributes","style"])||"",r=y(l,"tadv/background-color-panel"),n=m(r,["attributes","style"])||"",c=k(o),a=k(n));var s=[{value:c,onChange:function(t){u(t?g(l,{type:"tadv/color-panel",attributes:{style:"color:"+t}}):b(l,"tadv/color-panel"))},label:v.strTextColorLabel}];return d&&s.push({value:a,onChange:function(t){u(t?g(l,{type:"tadv/background-color-panel",attributes:{style:"background-color:"+t}}):b(l,"tadv/background-color-panel"))},label:v.strBackgroundColorLabel}),p(f,null,p(h,{title:v.strTextColor,initialOpen:!1,colorSettings:s}))}}),a("tadv/background-color-panel",{title:v.strBackgroundColor,tagName:"span",className:"tadv-background-color",attributes:{style:"style"},edit:function(t){var e,o,r=t.isActive,n=t.value,c=t.onChange;if(!d||i)return null;r&&(e=y(n,"tadv/background-color-panel"),o=k(m(e,["attributes","style"])||""));var a=[{value:o,onChange:function(t){c(t?g(n,{type:"tadv/background-color-panel",attributes:{style:"background-color:"+t}}):b(n,"tadv/background-color-panel"))},label:v.strBackgroundColorLabel}];return p(f,null,p(h,{title:v.strTextColor,initialOpen:!1,colorSettings:a}))}})),ce=!0),t;var i,d})}]);