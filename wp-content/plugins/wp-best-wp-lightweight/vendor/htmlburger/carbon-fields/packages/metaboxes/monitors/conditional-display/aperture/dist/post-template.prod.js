"use strict";var _callbagOf=_interopRequireDefault(require("callbag-of")),_callbagStartWith=_interopRequireDefault(require("callbag-start-with")),_callbagDistinctUntilChanged=_interopRequireDefault(require("callbag-distinct-until-changed")),_hooks=require("@wordpress/hooks"),_data=require("@wordpress/data"),_lodash=require("lodash"),_callbagBasics=require("callbag-basics"),_core=require("@carbon-fields/core");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var INITIAL_STATE={post_template:""};function getPostTemplateFromSelect(e){var t=e.value;return"default"===t&&(t=""),{post_template:t}}(0,_hooks.addFilter)("carbon-fields.conditional-display-post-template.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#page_template");return e?(0,_callbagBasics.pipe)((0,_callbagBasics.fromEvent)(e,"change"),(0,_callbagBasics.map)(function(e){return getPostTemplateFromSelect(e.target)}),(0,_callbagStartWith.default)(getPostTemplateFromSelect(e))):(0,_callbagOf.default)(INITIAL_STATE)}),(0,_hooks.addFilter)("carbon-fields.conditional-display-post-template.gutenberg","carbon-fields/metaboxes",function(){return(0,_callbagBasics.pipe)((0,_core.fromSelector)((0,_data.select)("core/editor").getEditedPostAttribute,"template"),(0,_callbagDistinctUntilChanged.default)(),(0,_callbagBasics.filter)(_lodash.isString),(0,_callbagBasics.map)(function(e){return{post_template:e}}),(0,_callbagStartWith.default)(INITIAL_STATE))});