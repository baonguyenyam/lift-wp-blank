"use strict";var _callbagOf=_interopRequireDefault(require("callbag-of")),_callbagStartWith=_interopRequireDefault(require("callbag-start-with")),_hooks=require("@wordpress/hooks"),_callbagBasics=require("callbag-basics"),_getParentIdFromOption=_interopRequireDefault(require("../utils/get-parent-id-from-option")),_getLevelFromOption=_interopRequireDefault(require("../utils/get-level-from-option")),_getAncestorsFromOption=_interopRequireDefault(require("../utils/get-ancestors-from-option"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var INITIAL_STATE={term_ancestors:[],term_parent:0,term_level:1};function getParentIdAncestorsAndLevelFromSelect(e){var t=e.options[e.selectedIndex];return{term_ancestors:(0,_getAncestorsFromOption.default)(t),term_parent:(0,_getParentIdFromOption.default)(t),term_level:(0,_getLevelFromOption.default)(t)+1}}(0,_hooks.addFilter)("carbon-fields.conditional-display-term-parent.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#parent");return e?(0,_callbagBasics.pipe)((0,_callbagBasics.fromEvent)(e,"change"),(0,_callbagBasics.map)(function(e){return getParentIdAncestorsAndLevelFromSelect(e.target)}),(0,_callbagStartWith.default)(getParentIdAncestorsAndLevelFromSelect(e))):(0,_callbagOf.default)(INITIAL_STATE)});