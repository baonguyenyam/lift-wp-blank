"use strict";var _callbagOf=_interopRequireDefault(require("callbag-of")),_callbagStartWith=_interopRequireDefault(require("callbag-start-with")),_hooks=require("@wordpress/hooks"),_callbagBasics=require("callbag-basics");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var INITIAL_STATE={user_role:""};function getRoleFromSelect(e){return{user_role:e.value}}(0,_hooks.addFilter)("carbon-fields.conditional-display-user-role.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#role");if(e)return(0,_callbagBasics.pipe)((0,_callbagBasics.fromEvent)(e,"change"),(0,_callbagBasics.map)(function(e){return getRoleFromSelect(e.target)}),(0,_callbagStartWith.default)(getRoleFromSelect(e)));var a=document.querySelector("fieldset[data-profile-role]");return a?(0,_callbagOf.default)({user_role:a.dataset.profileRole}):(0,_callbagOf.default)(INITIAL_STATE)});