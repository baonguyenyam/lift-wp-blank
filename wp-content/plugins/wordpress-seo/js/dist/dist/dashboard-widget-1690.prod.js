"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=o,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=333)}({0:function(t){t.exports=window.wp.element},11:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},13:function(t,e,o){var n=o(70);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},14:function(t,e,o){var n=o(34),r=o(11);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?r(t):e}},2:function(t){t.exports=window.lodash},24:function(t){t.exports=window.yoast.styleGuide},3:function(t){t.exports=window.wp.i18n},333:function(t,e,o){o.r(e);var n=o(5),i=o.n(n),r=o(7),c=o.n(r),s=o(13),u=o.n(s),a=o(14),f=o.n(a),l=o(8),p=o.n(l),d=o(0),y=o(6),b=o(24),h=o(95),m=o(9),v=o(61),w=function(t){u()(s,t);var n,r,e=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,o=p()(n);return e=r?(t=p()(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),f()(this,e)});function s(){var t;return i()(this,s),(t=e.call(this)).state={statistics:null,feed:null,isDataFetched:!1},t}return c()(s,[{key:"componentDidMount",value:function(){var t=this,e=jQuery("#wpseo-dashboard-overview-hide");e.is(":checked")&&this.fetchData(),e.on("click",function(){t.fetchData()})}},{key:"fetchData",value:function(){this.state.isDataFetched||(this.getStatistics(),this.getFeed(),this.setState({isDataFetched:!0}))}},{key:"getStatistics",value:function(){var o=this;wpseoApi.get("statistics",function(t){var e={};t&&t.seo_scores&&(e.seoScores=t.seo_scores.map(function(t){return{value:parseInt(t.count,10),color:s.getColorFromScore(t.seo_rank),html:'<a href="'.concat(t.link,'">').concat(t.label,"</a>")}}),e.header=jQuery("<div>".concat(t.header,"</div>")).text(),o.setState({statistics:e}))})}},{key:"getFeed",value:function(){var e=this;Object(m.getPostFeed)("https://yoast.com/feed/widget/?wp_version="+wpseoDashboardWidgetL10n.wp_version+"&php_version="+wpseoDashboardWidgetL10n.php_version,2).then(function(t){t.items=t.items.map(function(t){return t.description=jQuery("<div>".concat(t.description,"</div>")).text(),t.description=t.description.replace("The post ".concat(t.title," appeared first on Yoast."),"").trim(),t}),e.setState({feed:t})}).catch(function(t){return console.log(t)})}},{key:"getSeoAssessment",value:function(){return null===this.state.statistics?null:Object(d.createElement)(h.SiteSEOReport,{key:"yoast-seo-posts-assessment",seoAssessmentText:this.state.statistics.header,seoAssessmentItems:this.state.statistics.seoScores})}},{key:"getYoastFeed",value:function(){return null===this.state.feed?null:Object(d.createElement)(y.ArticleList,{className:"wordpress-feed",key:"yoast-seo-blog-feed",title:wpseoDashboardWidgetL10n.feed_header,feed:this.state.feed,footerLinkText:wpseoDashboardWidgetL10n.feed_footer})}},{key:"render",value:function(){var t=[this.getSeoAssessment(),this.getYoastFeed()].filter(function(t){return null!==t});return 0===t.length?null:Object(d.createElement)("div",null,t)}}],[{key:"getColorFromScore",value:function(t){return b.colors["$color_".concat(t)]||b.colors.$color_grey}}]),s}(d.Component),g=document.getElementById("yoast-seo-dashboard-widget");g&&(Object(v.setYoastComponentsL10n)(),Object(d.render)(Object(d.createElement)(w,null),g))},34:function(e){function o(t){return"function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?e.exports=o=function(t){return _typeof(t)}:e.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},o(t)}e.exports=o},5:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},6:function(t){t.exports=window.yoast.componentsNew},61:function(t,e,o){o.r(e),o.d(e,"setTextdomainL10n",function(){return s}),o.d(e,"setYoastComponentsL10n",function(){return i}),o.d(e,"setWordPressSeoL10n",function(){return c});var n=o(3),r=o(2);function s(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"wpseoYoastJSL10n",o=Object(r.get)(window,[e,t,"locale_data",t],!1);!1===o?Object(n.setLocaleData)({"":{}},t):Object(n.setLocaleData)(o,t)}function i(){s("yoast-components")}function c(){s("wordpress-seo")}},7:function(t){function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},70:function(o){function n(t,e){return o.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}o.exports=n},8:function(e){function o(t){return e.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}e.exports=o},9:function(t){t.exports=window.yoast.helpers},95:function(t){t.exports=window.yoast.analysisReport}});