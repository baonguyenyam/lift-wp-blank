"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(B){var J="left",K="right",$="up",ee="down",te="in",ne="out",ie="none",re="auto",oe="swipe",ue="pinch",ae="tap",le="horizontal",se="vertical",ce="all",he="start",pe="move",fe="end",de="cancel",ge="ontouchstart"in window,we="TouchSwipe";function i(e,v){var t=ge||!v.fallbackToMouseEvents,n=t?"touchstart":"mousedown",i=t?"touchmove":"mousemove",r=t?"touchend":"mouseup",o=t?null:"mouseleave",u="touchcancel",T=0,b=null,y=0,S=0,E=0,O=1,m=0,x=0,L=null,a=B(e),M="start",D=0,P=null,R=0,k=0,l=0,s=0;try{a.bind(n,c),a.bind(u,f)}catch(e){B.error("events not supported "+n+","+u+" on jQuery.swipe")}function c(e){if(!0!==a.data(we+"_intouch")&&!(0<B(e.target).closest(v.excludedElements,a).length)){var t,n,i=e.originalEvent?e.originalEvent:e,r=ge?i.touches[0]:i;if(M=he,ge?D=i.touches.length:e.preventDefault(),x=b=null,O=1,m=E=S=y=T=0,P=function(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),(n={})[J]=z(J),n[K]=z(K),n[$]=z($),n[ee]=z(ee),L=n,Y(),!ge||D===v.fingers||v.fingers===ce||H()?(q(0,r),R=Z(),2==D&&(q(1,i.touches[1]),S=E=G(P[0].start,P[1].start)),(v.swipeStatus||v.pinchStatus)&&(t=I(i,M))):t=!1,!1===t)return I(i,M=de),t;W(!0)}}function h(e){var t,n,i,r,o,u,a,l,s,c,h,p,f,d,g,w=e.originalEvent?e.originalEvent:e;M===fe||M===de||C()||(n=F(ge?w.touches[0]:w),k=Z(),ge&&(D=w.touches.length),M=pe,2==D&&(0==S?(q(1,w.touches[1]),S=E=G(P[0].start,P[1].start)):(F(w.touches[1]),E=G(P[0].end,P[1].end),P[0].end,P[1].end,x=O<1?ne:te),O=(E/S*1).toFixed(2),m=Math.abs(S-E)),D===v.fingers||v.fingers===ce||!ge||H()?(f=n.start,d=n.end,g=function(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),o=Math.round(180*r/Math.PI);o<0&&(o=360-Math.abs(o));return o}(f,d),function(e,t){if(v.allowPageScroll===ie||H())e.preventDefault();else{var n=v.allowPageScroll===re;switch(t){case J:(v.swipeLeft&&n||!n&&v.allowPageScroll!=le)&&e.preventDefault();break;case K:(v.swipeRight&&n||!n&&v.allowPageScroll!=le)&&e.preventDefault();break;case $:(v.swipeUp&&n||!n&&v.allowPageScroll!=se)&&e.preventDefault();break;case ee:(v.swipeDown&&n||!n&&v.allowPageScroll!=se)&&e.preventDefault()}}}(e,b=g<=45&&0<=g||g<=360&&315<=g?J:135<=g&&g<=225?K:45<g&&g<135?ee:$),h=n.start,p=n.end,T=Math.round(Math.sqrt(Math.pow(p.x-h.x,2)+Math.pow(p.y-h.y,2))),y=k-R,s=b,c=T,c=Math.max(c,V(s)),L[s].distance=c,(v.swipeStatus||v.pinchStatus)&&(t=I(w,M)),v.triggerOnTouchEnd&&!v.triggerOnTouchLeave||(i=!0,v.triggerOnTouchLeave&&(r={left:(l=(a=B(a=this)).offset()).left,right:l.left+a.outerWidth(),top:l.top,bottom:l.top+a.outerHeight()},o=n.end,u=r,i=o.x>u.left&&o.x<u.right&&o.y>u.top&&o.y<u.bottom),!v.triggerOnTouchEnd&&i?M=A(pe):v.triggerOnTouchLeave&&!i&&(M=A(fe)),M!=de&&M!=fe||I(w,M))):I(w,M=de),!1===t&&I(w,M=de))}function p(e){var t,n,i=e.originalEvent;if(ge&&0<i.touches.length)return l=Z(),s=event.touches.length+1,!0;C()&&(D=s),e.preventDefault(),k=Z(),v.triggerOnTouchEnd||0==v.triggerOnTouchEnd&&M===pe?(M=fe,t=D===v.fingers||v.fingers===ce||!ge,n=0!==P[0].end.x,I(i,t&&n&&(_()||j())?M:M=de)):!v.triggerOnTouchEnd&&X()?w(i,M=fe,ae):M===pe&&I(i,M=de),W(!1)}function f(){E=S=R=k=D=0,Y(),W(!(O=1))}function d(e){var t=e.originalEvent;v.triggerOnTouchLeave&&I(t,M=A(fe))}function g(){a.unbind(n,c),a.unbind(u,f),a.unbind(i,h),a.unbind(r,p),o&&a.unbind(o,d),W(!1)}function A(e){var t=e,n=U(),i=N();return n?!i||e!=pe||v.triggerOnTouchEnd&&!v.triggerOnTouchLeave?!i&&e==fe&&v.triggerOnTouchLeave&&(t=de):t=fe:t=de,t}function I(e,t){var n=void 0;return Q()&&(n=w(e,t,oe)),H()&&!1!==n&&(n=w(e,t,ue)),X()&&!1!==n&&(n=w(e,t,ae)),t===de&&f(),t!==fe||ge&&0!=e.touches.length||f(),n}function w(e,t,n){var i=void 0;if(n==oe){if(a.trigger("swipeStatus",[t,b||null,T||0,y||0,D]),v.swipeStatus&&!1===(i=v.swipeStatus.call(a,e,t,b||null,T||0,y||0,D)))return!1;if(t==fe&&j()){if(a.trigger("swipe",[b,T,y,D]),v.swipe&&!1===(i=v.swipe.call(a,e,b,T,y,D)))return!1;switch(b){case J:a.trigger("swipeLeft",[b,T,y,D]),v.swipeLeft&&(i=v.swipeLeft.call(a,e,b,T,y,D));break;case K:a.trigger("swipeRight",[b,T,y,D]),v.swipeRight&&(i=v.swipeRight.call(a,e,b,T,y,D));break;case $:a.trigger("swipeUp",[b,T,y,D]),v.swipeUp&&(i=v.swipeUp.call(a,e,b,T,y,D));break;case ee:a.trigger("swipeDown",[b,T,y,D]),v.swipeDown&&(i=v.swipeDown.call(a,e,b,T,y,D))}}}if(n==ue){if(a.trigger("pinchStatus",[t,x||null,m||0,y||0,D,O]),v.pinchStatus&&!1===(i=v.pinchStatus.call(a,e,t,x||null,m||0,y||0,D,O)))return!1;if(t==fe&&_())switch(x){case te:a.trigger("pinchIn",[x||null,m||0,y||0,D,O]),v.pinchIn&&(i=v.pinchIn.call(a,e,x||null,m||0,y||0,D,O));break;case ne:a.trigger("pinchOut",[x||null,m||0,y||0,D,O]),v.pinchOut&&(i=v.pinchOut.call(a,e,x||null,m||0,y||0,D,O))}}return n==ae&&(t!==de&&t!==fe||1!==D&&ge||!isNaN(T)&&0!==T||(a.trigger("tap",[e.target]),v.tap&&(i=v.tap.call(a,e,e.target)))),i}function N(){var e=!0;return null!==v.threshold&&(e=T>=v.threshold),e&&null!==v.cancelThreshold&&(e=V(b)-T<v.cancelThreshold),e}function U(){var e=!v.maxTimeThreshold||!(y>=v.maxTimeThreshold);return e}function _(){return null===v.pinchThreshold||m>=v.pinchThreshold}function H(){return v.pinchStatus||v.pinchIn||v.pinchOut}function j(){var e=U();return N()&&e}function Q(){return v.swipe||v.swipeStatus||v.swipeLeft||v.swipeRight||v.swipeUp||v.swipeDown}function X(){return v.tap}function Y(){s=l=0}function C(){var e=!1;return l&&Z()-l<=v.fingerReleaseThreshold&&(e=!0),e}function W(e){!0===e?(a.bind(i,h),a.bind(r,p),o&&a.bind(o,d)):(a.unbind(i,h,!1),a.unbind(r,p,!1),o&&a.unbind(o,d,!1)),a.data(we+"_intouch",!0===e)}function q(e,t){var n=void 0!==t.identifier?t.identifier:0;return P[e].identifier=n,P[e].start.x=P[e].end.x=t.pageX||t.clientX,P[e].start.y=P[e].end.y=t.pageY||t.clientY,P[e]}function F(e){var t=function(e){for(var t=0;t<P.length;t++)if(P[t].identifier==e)return P[t]}(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function V(e){return L[e].distance}function z(e){return{direction:e,distance:0}}function G(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function Z(){return(new Date).getTime()}this.enable=function(){return a.bind(n,c),a.bind(u,f),a},this.disable=function(){return g(),a},this.destroy=function(){return g(),a.data(we,null),a},this.option=function(e,t){if(void 0!==v[e]){if(void 0===t)return v[e];v[e]=t}else B.error("Option "+e+" does not exist on jQuery.swipe.options")}}B.fn.swipe=function(e){var t=B(this),n=t.data(we);if(n&&"string"==typeof e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));B.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(n||"object"!==_typeof(e)&&e))return function(n){!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=ie);void 0!==n.click&&void 0===n.tap&&(n.tap=n.click);n=n||{};return n=B.extend({},B.fn.swipe.defaults,n),this.each(function(){var e=B(this),t=e.data(we);t||(t=new i(this,n),e.data(we,t))})}.apply(this,arguments);return t},B.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:25,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"},B.fn.swipe.phases={PHASE_START:he,PHASE_MOVE:pe,PHASE_END:fe,PHASE_CANCEL:de},B.fn.swipe.directions={LEFT:J,RIGHT:K,UP:$,DOWN:ee,IN:te,OUT:ne},B.fn.swipe.pageScroll={NONE:ie,HORIZONTAL:le,VERTICAL:se,AUTO:re},B.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:ce}}(jQuery);