"use strict";!function(c){function t(t,e){this.$el=t,this.fullWidthContentColumns=e,this.$window=c(window),this.onMobile=!1,this.clearIsoAnimation=null,this.mediaQuerySize="",this.portfolioFiltersInit(),this.mouseEventHandler(),this.masonryInit(),this.resizeHandler(),0<this.$el.find('.inner-wrap[data-animation="perspective"]').length&&this.perspectiveAnimationInit(),this.portfolioAccentColor(),this.isotopeCatSelection(),this.portfolioCommentOrder()}function e(t){this.$el=t,this.rotationSpeed=0<t.attr("data-autorotate").length&&parseInt(t.attr("data-autorotate")),this.rotationInterval=null,this.$window=c(window),this.splitLineText(),this.positionFix(),this.sliderCalcs(),this.sliderInit(),this.resizeHandler()}function i(t){this.$el=t,this.carouselInit(),this.resizeHandler()}t.prototype.masonryInit=function(){var i=this;this.$el.imagesLoaded(function(){var t=i.$el.hasClass("masonry-items")?"packery":"fitRows",e=""!=i.$el.attr("data-starting-filter")&&"default"!=i.$el.attr("data-starting-filter")?"."+i.$el.attr("data-starting-filter"):"*";i.reLayout(),i.$el.addClass("isotope-activated"),i.$el.isotope({itemSelector:".element",filter:e,layoutMode:t,transitionDuration:"0.6s",packery:{gutter:0}}).isotope("layout"),"*"!=e?0<i.$el.parent().parent().find(".portfolio-filters").length?i.$el.parent().parent().find('.portfolio-filters ul a[data-filter="'+e+'"]').trigger("click"):i.$el.parent().parent().find('.portfolio-filters-inline ul a[data-filter="'+e+'"]').trigger("click"):0<i.$el.parent().parent().find('.portfolio-filters-inline[data-alignment="left"]').length||0<i.$el.parent().parent().find('.portfolio-filters-inline[data-alignment="center"]').length?i.$el.parent().parent().find(".portfolio-filters-inline .container > ul > li:nth-child(1) a").addClass("active"):i.$el.parent().parent().find(".portfolio-filters-inline .container > ul > li:nth-child(2) a").addClass("active"),i.loadAnimationWaypoint(),i.masonryZindex();setTimeout(function(){i.masonryZindex()},800),0<i.$el.parents(".full-width-content").length&&setTimeout(function(){i.fullWidthContentColumns()},200),c(".portfolio-loading").stop(!0,!0).fadeOut(200),"none"===i.$el.find(".inner-wrap").attr("data-animation")&&i.$el.find(".inner-wrap").removeClass("animated")}),c(".portfolio-items").find("a[href*='http://']:not([href*='"+window.location.hostname+"'])").attr("target","_blank"),c(".recent_projects_widget").find("a[href*='http://']:not([href*='"+window.location.hostname+"'])").attr("target","_blank"),c(".portfolio-items").find("a[href*='https://']:not([href*='"+window.location.hostname+"'])").attr("target","_blank"),c(".recent_projects_widget").find("a[href*='https://']:not([href*='"+window.location.hostname+"'])").attr("target","_blank")},t.prototype.resizeHandler=function(){var t=this;this.$window.resize(function(){setTimeout(function(){t.reLayout(),t.masonryZindex(),t.portfolioCommentOrder()},30)})},t.prototype.mouseEventHandler=function(){0<this.$el.parent().parent().find(".portfolio-filters").length?this.$el.parent().parent().find(".portfolio-filters ul li a").on("click",this.isoClickFilter.bind(this)):this.$el.parent().parent().find(".portfolio-filters-inline ul li a").on("click",this.isoClickFilter.bind(this)),c("body").on("mouseenter",".portfolio-filters",function(){this.onMobile||c(this).find("> ul").stop(!0,!0).slideDown(500,"easeOutExpo"),c(this).find("a#sort-portfolio span").html(c(this).find("a#sort-portfolio").attr("data-sortable-label"))}),c("body").on("mouseleave",".portfolio-filters",function(){var t=c(this).find("a.active").html();void 0!==t&&0!=t.length||(t=c(this).attr("data-sortable-label")),c(this).find("a#sort-portfolio span").html(t),this.onMobile||c(this).find("> ul").stop(!0,!0).slideUp(500,"easeOutExpo")}),c("body").on("click",".portfolio-filters ul li a",function(){c(this).parents(".portfolio-filters").find("#sort-portfolio span").html(c(this).html())}),c("body").on("click",".portfolio-filters > a#sort-portfolio",function(){return!1});var t=null;c(".portfolio-items > .col a[title]").on("mouseenter",function(){t=c(this).attr("title"),c(this).attr("title","")}),c(".portfolio-items > .col a[title]").on("mouseleave",function(){c(this).attr("title",t)}),c(".portfolio-items > .col a[title]").on("click",function(){c(this).attr("title",t)})},t.prototype.portfolioFiltersInit=function(){(c("body").hasClass("mobile")||navigator.userAgent.match(/(iPad|IEMobile)/))&&(this.onMobile=!0,this.$el.parent().parent().find(".portfolio-filters").unbind("mouseenter mouseleave"),this.$el.parent().parent().find(".portfolio-filters > a, .portfolio-filters ul li a").on("click",function(t){void 0!==t.originalEvent&&c(this).parents(".portfolio-filters").find("> ul").stop(!0,!0).slideToggle(600,"easeOutCubic")})),0<this.$el.parent().parent().find('.portfolio-filters-inline[data-alignment="left"]').length||0<this.$el.parent().parent().find('.portfolio-filters-inline[data-alignment="center"]').length?this.$el.parent().parent().find(".portfolio-filters-inline .container > ul > li:nth-child(1) a").trigger("click"):this.$el.parent().parent().find(".portfolio-filters-inline .container > ul > li:nth-child(2) a").trigger("click"),c('body.single-portfolio #header-outer nav > ul > li > a:contains("Portfolio")').parents("li").addClass("current-menu-item")},t.prototype.isoClickFilter=function(t){var e,i=this;690<window.innerWidth&&!navigator.userAgent.match(/(Android|iPod|iPhone|iPad|IEMobile|Opera Mini)/)&&(clearTimeout(e),e=setTimeout(function(){i.masonryZindex()},600));var n=c(t.target).attr("data-filter");return this.$el.isotope({filter:n}).attr("data-current-cat",n),0===this.$el.find('.inner-wrap[data-animation="none"]').length&&this.$el.find(".col").addClass("animated-in"),c(t.target).parent().parent().find("li a").removeClass("active"),c(t.target).addClass("active"),0<c(t.target).parents(".portfolio-filters-inline").length&&c(t.target).parents(".portfolio-filters-inline").find("#current-category").html(c(t.target).html()),0<this.$el.find('a[rel^="prettyPhoto"]').length?setTimeout(this.updatePrettyPhotoGallery.bind(this),170):setTimeout(this.updateMagPrettyPhotoGallery.bind(this),170),!1},t.prototype.loadAnimationWaypoint=function(){var a=0<c("#nectar_fullscreen_rows").length?"200%":"90%";"none"!==this.$el.find(".inner-wrap").attr("data-animation")&&this.$el.find(".col").each(function(t){var e,i,n=c(this);c(this).visible(!0)||0<c(this).parents("#nectar_fullscreen_rows").length?(e=n.is('[data-masonry-type="photography"].masonry-items')?90:115,c(this).delay(e*t).queue(function(t){c(this).addClass("animated-in"),t()})):i=new Waypoint({element:n,handler:function(){var t;0<n.parents(".wpb_tab").length&&"hidden"===n.parents(".wpb_tab").css("visibility")||n.hasClass("animated-in")||(t=n.is('[data-masonry-type="photography"].masonry-items')?85:100,setTimeout(function(){n.addClass("animated-in")},t*n.attr("data-delay-amount"))),i.destroy()},offset:a})})},t.prototype.perspectiveAnimationInit=function(){var i=c(window).scrollTop(),n=this;this.$el.css("perspective-origin","50% "+(i+c(window).height())+"px"),requestAnimationFrame(function t(){var e=c(window).scrollTop();{if(i===e)return void requestAnimationFrame(t);i=e,n.$el.css("perspective-origin","50% "+(i+c(window).height())+"px"),requestAnimationFrame(t)}})},t.prototype.portfolioItemWidths=function(){var t="elastic"===this.$el.attr("data-col-num");if(t){var e=this.$el.width(),i=4,n="one"===this.mediaQuerySize?1:2;if("five"===this.mediaQuerySize?i=5:"four"===this.mediaQuerySize?i=4:"three"===this.mediaQuerySize?i=3:"two"===this.mediaQuerySize?i=2:"one"===this.mediaQuerySize&&(i=1),this.$el.is('[data-ps="6"]')&&5==i&&(i=4),t&&this.$el.is('[data-masonry-type="photography"]')&&!this.$el.hasClass("no-masonry")&&("five"===this.mediaQuerySize&&(i=6),"four"===this.mediaQuerySize&&(i=5),"three"===this.mediaQuerySize&&(i=4)),e%i==0)this.$el.find(".elastic-portfolio-item:not(.wide):not(.wide_tall)").css("width",Math.floor(e/i)+"px"),this.$el.find(".elastic-portfolio-item.wide, .elastic-portfolio-item.wide_tall").css("width",Math.floor(e/i*n)+"px");else{var a=1e3<c(window).width()?6:3;this.$el.hasClass("fullwidth-constrained")&&1e3<c(window).width()&&(a=4);for(var s=1;s<a;s++)(e-s)%i==0&&(this.$el.find(".elastic-portfolio-item:not(.wide):not(.wide_tall)").css("width",(e-s)/i+"px"),this.$el.find(".elastic-portfolio-item.wide, .elastic-portfolio-item.wide_tall").css("width",(e-s)/i*n+"px"))}}},t.prototype.masonryZindex=function(){var n;0<c('body .portfolio-items:not(".carousel") > .col').length&&c('body .portfolio-items:not(".carousel") > .col').offset().left&&(n=this,c('body .portfolio-items:not(".carousel")').each(function(){var e={},a={},s=c(this);c(this).find("> .col").each(function(){var t=(t=c(this).offset()).left;e[c(this).index()]=t,c(this).css("z-index",Math.abs(Math.floor(c(this).offset().left/20)))});var t=jQuery.map(e,function(t){return t});(t=n.removeDuplicates(t)).sort(function(t,e){return t-e});for(var i=0;i<t.length;i++)a[t[i]]=i;jQuery.each(e,function(t,e){var i,n=e;jQuery.each(a,function(t,e){n===t&&(i=e)}),s.find("> .col:eq("+t+")").attr("data-delay-amount",i)})}))},t.prototype.removeDuplicates=function(t){for(var e=t.length,i=[],n={},a=0;a<e;a++)n[t[a]]=0;for(a in n)i.push(a);return i},t.prototype.reLayout=function(){var t,e,i,n,a=this;clearTimeout(this.clearIsoAnimation),this.$el.find(".col").addClass("no-transition"),this.clearIsoAnimation=setTimeout(function(){a.$el.find(".col").removeClass("no-transition")},700),1600<window.innerWidth?this.$el.hasClass("fullwidth-constrained")?this.$el.is('[data-masonry-type="photography"]')?this.mediaQuerySize="three":this.mediaQuerySize="four":this.$el.hasClass("constrain-max-cols")?this.mediaQuerySize="four":this.mediaQuerySize="five":window.innerWidth<=1600&&1300<window.innerWidth?this.$el.hasClass("fullwidth-constrained")&&this.$el.is('[data-masonry-type="photography"]')?this.mediaQuerySize="three":this.mediaQuerySize="four":window.innerWidth<=1300&&990<window.innerWidth?this.$el.hasClass("constrain-max-cols")?this.mediaQuerySize="four":this.mediaQuerySize="three":window.innerWidth<=990&&470<window.innerWidth?this.mediaQuerySize="two":window.innerWidth<=470&&(this.mediaQuerySize="one"),0<c("#boxed").length&&(1300<window.innerWidth?this.mediaQuerySize="four":window.innerWidth<1300&&990<window.innerWidth?this.$el.hasClass("constrain-max-cols")?this.mediaQuerySize="four":this.mediaQuerySize="three":window.innerWidth<990&&(this.mediaQuerySize="one")),this.portfolioItemWidths(),this.$el.is('[data-bypass-cropping="true"]')||(0<this.$el.find('.col.elastic-portfolio-item[class*="regular"]:visible').length||0<this.$el.find('.col.elastic-portfolio-item[class*="wide"]:visible').length||0<this.$el.find('.col.elastic-portfolio-item[class*="tall"]:visible').length||0<this.$el.find('.col.elastic-portfolio-item[class*="wide_tall"]:visible').length?(t=this.$el.is('[data-gutter*="px"]')&&0<this.$el.attr("data-gutter").length&&"none"!=this.$el.attr("data-gutter")?parseInt(this.$el.attr("data-gutter")):0,e=470<window.innerWidth?2:1,i="regular",0===this.$el.find('.col.elastic-portfolio-item[class*="regular"]:visible').length&&0<this.$el.find(".col.elastic-portfolio-item.wide:visible").length?i="wide":0===this.$el.find('.col.elastic-portfolio-item[class*="regular"]:visible').length&&0<this.$el.find(".col.elastic-portfolio-item.wide_tall:visible").length?(i="wide_tall",e=1):0===this.$el.find('.col.elastic-portfolio-item[class*="regular"]:visible').length&&0<this.$el.find(".col.elastic-portfolio-item.tall:visible").length&&(i="tall",e=1),this.$el.find(".col.elastic-portfolio-item."+i+" img").css("height","auto"),n=this.$el.find(".col.elastic-portfolio-item."+i+":visible img").height(),this.$el.find('.col.elastic-portfolio-item[class*="tall"] img, .col.elastic-portfolio-item.wide img, .col.elastic-portfolio-item.regular img').removeClass("auto-height"),this.$el.find('.col.elastic-portfolio-item[class*="tall"] img:not(.custom-thumbnail)').css("height",n*e+2*t),"regular"===i||"wide"===i?this.$el.find(".col.elastic-portfolio-item.wide img:not(.custom-thumbnail), .col.elastic-portfolio-item.regular img:not(.custom-thumbnail)").css("height",n):this.$el.find(".col.elastic-portfolio-item.wide img:not(.custom-thumbnail), .col.elastic-portfolio-item.regular img:not(.custom-thumbnail)").css("height",n/2-2*t),this.$el.find('.col.elastic-portfolio-item[class*="tall"] .parallaxImg').css("height",n*e+2*parseInt(this.$el.find(".col.elastic-portfolio-item").css("padding-bottom"))),"regular"===i||"wide"===i?this.$el.find(".col.elastic-portfolio-item.regular .parallaxImg, .col.elastic-portfolio-item.wide .parallaxImg").css("height",n):this.$el.find(".col.elastic-portfolio-item.regular .parallaxImg, .col.elastic-portfolio-item.wide .parallaxImg").css("height",n/2-2*t)):this.$el.find('.col.elastic-portfolio-item[class*="tall"] img, .col.elastic-portfolio-item.wide img, .col.elastic-portfolio-item.regular img').addClass("auto-height")),this.$el.hasClass("no-masonry")&&0<this.$el.find(".col:first:visible").length&&0===this.$el.parents(".wpb_gallery").length&&(this.$el.is('[data-ps="9"]')||this.$el.is('[data-bypass-cropping="true"]')||(this.$el.find(".col img").css("height","auto"),n=this.$el.find(".col:first:visible img").height(),this.$el.find(".col img:not(.custom-thumbnail)").css("height",n),this.$el.find(".col .parallaxImg").css("height",n))),this.$el.isotope()&&this.$el.isotope("layout")},t.prototype.updatePrettyPhotoGallery=function(){var t,e;0<this.$el.find('a[rel^="prettyPhoto"]').length&&(t=Math.floor(1e4*Math.random()),e=this.$el.attr("data-current-cat"),this.$el.find(".col"+e).find('a[rel^="prettyPhoto"]').attr("rel","prettyPhoto["+t+"_sorted]"))},t.prototype.updateMagPrettyPhotoGallery=function(){var t=this.$el.attr("data-current-cat"),e=Math.floor(1e4*Math.random());this.$el.is('[data-lightbox-only="true"]')?this.$el.find(".col").each(function(){c(this).find("a.gallery").removeClass("gallery").removeClass("magnific"),c(this).is(t)&&(0<c(this).find(".parallaxImg-wrap").length?0<c('body[data-ls="fancybox"]').length?c(this).find(".work-item > a").attr("data-fancybox","group_"+e):c(this).find(".work-item > a").addClass("gallery").addClass("magnific"):0<c('body[data-ls="fancybox"]').length?c(this).find(".work-item a").attr("data-fancybox","group_"+e):c(this).find(".work-info a").addClass("gallery").addClass("magnific"))}):0<this.$el.find(".work-item.style-1").length&&this.$el.find(".col").each(function(){c(this).find("a.gallery").removeClass("gallery").removeClass("magnific"),c(this).is(t)&&(0<c('body[data-ls="fancybox"]').length?c(this).find(".work-info .vert-center a:first-of-type").attr("data-fancybox","group_"+e):c(this).find(".work-info .vert-center a:first-of-type").addClass("gallery").addClass("magnific"))})},t.prototype.portfolioAccentColor=function(){this.$el.find(".col").each(function(){c(this).has("[data-project-color]")&&(c(this).find(".work-info-bg, .bottom-meta").css("background-color",c(this).attr("data-project-color")),c(this).find(".parallaxImg-rendered-layer .bg-overlay").css("border-color",c(this).attr("data-project-color")))})},t.prototype.isotopeCatSelection=function(){var e=[],i=0;this.$el.parent().parent().find("div[class^=portfolio-filters] ul li").each(function(t){0<c(this).find("a").length&&(e[i]=c(this).find("a").attr("data-filter").substring(1),i++)}),e.shift();var n,a="";this.$el.find("> div").each(function(){a+=c(this).attr("data-project-cat")}),(a=a.split(" ")).pop(),a=jQuery.unique(a),this.$el.is("[data-categories-to-show]")&&0!=this.$el.attr("data-categories-to-show").length&&"all"!=this.$el.attr("data-categories-to-show")?(n=(n=this.$el.attr("data-categories-to-show").replace(/,/g," ")).split(" "),this.$el.hasClass("infinite_scroll")||this.$el.removeAttr("data-categories-to-show")):n=a;var s=[];jQuery.grep(e,function(t){-1==jQuery.inArray(t,a)&&s.push(t),-1==jQuery.inArray(t,n)&&s.push(t)}),0!=s.length&&this.$el.parent().parent().find("div[class^=portfolio-filters] ul li").each(function(){0<c(this).find("a").length&&(-1!=jQuery.inArray(c(this).find("a").attr("data-filter").substring(1),s)?0<c(this).find("> ul.children").length?c(this).find("> a").hide():c(this).hide():c(this).show())})},t.prototype.portfolioCommentOrder=function(){c("body").hasClass("mobile")&&c("body").hasClass("single-portfolio")&&0<c("#respond").length?c("#sidebar").insertBefore(".comments-section"):c("body").hasClass("single-portfolio")&&0<c("#respond").length&&c("#sidebar").insertAfter(".post-area")},e.prototype.resizeHandler=function(){c(window).resize(this.sliderCalcs.bind(this)),c(window).resize(this.splitLineText.bind(this))},e.prototype.positionFix=function(){var t,e;1<this.$el.parents(".span_12").find("> .wpb_column").length&&(t=this.$el.clone(),e=this.$el.parents(".span_12"),this.$el.remove(),e.prepend(t),this.$el=t)},e.prototype.sliderCalcs=function(){var t=0<c(".body-border-top").length&&1e3<c(window).width()?c(".body-border-top").height():0;void 0!==window.vc_iframe&&1<this.$el.parents(".wpb_row").parent().index()&&this.$el.parents(".first-section").removeClass("first-section"),0<this.$el.parents(".first-section").length?this.$el.css("height",c(window).height()-this.$el.offset().top-t):this.$el.css("height",c(window).height())},e.prototype.sliderRotate=function(){var t,e,i;0<c("body.vc_editor").length||(t=0<this.$el.find(".project-slides").length?".dot-nav > span":".controls > li",e=0<this.$el.find(".project-slides").length?"span":" li",i=this.$el.find(t).length,this.$el.find(t+".active").index()+1===i?this.$el.find(t+":first-child").trigger("click"):this.$el.find(t+".active").next(e).trigger("click"))},e.prototype.sliderResetRotate=function(){var t;clearInterval(this.rotationInterval),0!=this.rotationSpeed&&(t=this.rotationSpeed<100?4e3:this.rotationSpeed,this.rotationInterval=setInterval(this.sliderRotate.bind(this),t))},e.prototype.splitLineText=function(){var t=0<this.$el.find(".project-slides").length?".project-slide":".nectar-recent-post-slide",e=0<this.$el.find(".project-slides").length?".project-info h1":".inner-wrap h2 a";this.$el.find(t).each(function(t){c(this).find(e).each(function(){var t=c(this).text();t=(t=t.trim()).split(" "),c(this)[0].innerHTML="";for(var e=0;e<t.length;e++)c(this)[0].innerHTML+="<span>"+t[e]+"</span> "}),c(this).find(e+" > span").wrapInner('<span class="inner" />')})},e.prototype.sliderInit=function(){var t,n=this.$el.find(".project-slide").length,a=this;0!=this.rotationSpeed&&(t=this.rotationSpeed<100?4e3:this.rotationSpeed,this.rotationInterval=setInterval(this.sliderRotate.bind(this),t)),this.$el.find(".zoom-slider-controls .next").on("click",function(){var t=c(this);if(t.parent().hasClass("timeout")||setTimeout(function(){t.parent().removeClass("timeout")},1150),c(this).parent().hasClass("timeout"))return!1;c(this).parent().addClass("timeout"),a.sliderResetRotate(a.$el.bind(a));var e=c(this).parents(".nectar_fullscreen_zoom_recent_projects").find(".project-slide.current"),i=c(this).parents(".nectar_fullscreen_zoom_recent_projects");return i.find(".project-slide").removeClass("next").removeClass("prev"),i.find(".project-slide").each(function(t){t<e.index()+1&&e.index()+1<n?c(this).addClass("prev"):c(this).addClass("next")}),e.index()+1===n&&i.find(".project-slide:first-child").addClass("no-trans"),setTimeout(function(){e.index()+1===n?(i.find(".project-slide:first-child").removeClass("no-trans").removeClass("next").removeClass("prev").addClass("current"),i.find(".project-slide:last-child").removeClass("next").removeClass("current").addClass("prev")):(e.next(".project-slide").removeClass("next").removeClass("prev").addClass("current"),e.removeClass("current").addClass("prev")),0<i.find(".dot-nav").length&&(i.find(".dot-nav span.active").removeClass("active"),i.find(".dot-nav span:nth-child("+(i.find(".project-slide.current").index()+1)+")").addClass("active"))},30),!1}),this.$el.find(".zoom-slider-controls .prev").on("click",function(){var t=c(this);if(t.parent().hasClass("timeout")||setTimeout(function(){t.parent().removeClass("timeout")},1150),c(this).parent().hasClass("timeout"))return!1;c(this).parent().addClass("timeout"),a.sliderResetRotate(a.$el.bind(a));var e=c(this).parents(".nectar_fullscreen_zoom_recent_projects").find(".project-slide.current"),i=c(this).parents(".nectar_fullscreen_zoom_recent_projects");return i.find(".project-slide").removeClass("next").removeClass("prev"),i.find(".project-slide").each(function(t){t<e.index()||0==e.index()?c(this).addClass("prev"):c(this).addClass("next")}),0==e.index()&&i.find(".project-slide:last-child").addClass("no-trans"),setTimeout(function(){0==e.index()?(i.find(".project-slide:last-child").removeClass("no-trans").removeClass("next").removeClass("prev").addClass("current"),i.find(".project-slide:first-child").removeClass("next").removeClass("prev").removeClass("current").addClass("next")):(e.prev(".project-slide").removeClass("next").removeClass("prev").addClass("current"),e.removeClass("current").addClass("next")),0<i.find(".dot-nav").length&&(i.find(".dot-nav span.active").removeClass("active"),i.find(".dot-nav span:nth-child("+(i.find(".project-slide.current").index()+1)+")").addClass("active"))},30),!1}),this.$el.find("> .normal-container > .dot-nav").remove(),this.$el.find("> .normal-container").append('<div class="dot-nav"></div>');for(var e=0;e<n;e++)0==e?this.$el.find(".dot-nav").append('<span class="dot active"><span></span></span>'):this.$el.find(".dot-nav").append('<span class="dot"><span></span></span>');var s=1;this.$el.find(".dot-nav > span").on("click",function(){var t,e,i,n;c(this).hasClass("active")||((t=c(this)).parent().hasClass("timeout")||setTimeout(function(){t.parent().removeClass("timeout")},1150),c(this).parent().hasClass("timeout")||(c(this).parent().addClass("timeout"),a.sliderResetRotate(a.$el.bind(a)),c(this).parent().find("span.active").removeClass("active"),c(this).addClass("active"),s=c(this).index()+1,e=c(this).parents(".nectar_fullscreen_zoom_recent_projects").find(".project-slide.current"),i=c(this).parents(".nectar_fullscreen_zoom_recent_projects"),n=e.index()+1,i.find(".project-slide").removeClass("next").removeClass("prev"),i.find(".project-slide").each(function(t){t<s-1?c(this).addClass("prev"):c(this).addClass("next")}),s<n?(i.find(".project-slide").eq(s-1).addClass("no-trans").addClass("prev").removeClass("next"),setTimeout(function(){i.find(".project-slide").eq(s-1).removeClass("no-trans").removeClass("next").removeClass("prev").addClass("current"),e.removeClass("current").addClass("next")},30)):(i.find(".project-slide").eq(s-1).addClass("no-trans").addClass("next").removeClass("prev"),setTimeout(function(){i.find(".project-slide").eq(s-1).removeClass("no-trans").removeClass("next").removeClass("prev").addClass("current"),e.removeClass("current").addClass("prev")},30))))})},i.prototype.resizeHandler=function(){c(window).resize(this.carouselHeightCalcs.bind(this))},i.prototype.carouselInit=function(){var t,e=this.$el,i=this,n="true"===this.$el.parents(".carousel-wrap").attr("data-full-width")?"auto":3,a="true"===this.$el.parents(".carousel-wrap").attr("data-full-width")?"auto":"",s="true"===this.$el.parents(".carousel-wrap").attr("data-full-width")?500:453,r="true"===this.$el.attr("data-autorotate"),o=!(0<c("body.ascend").length&&"true"!==this.$el.parents(".carousel-wrap").attr("data-full-width")||0<c("body.material").length&&"true"!==this.$el.parents(".carousel-wrap").attr("data-full-width"))||this.$el.find("li").length%3==0?t=!0:!(t=!1),l=parseInt(this.$el.attr("data-scroll-speed"))?parseInt(this.$el.attr("data-scroll-speed")):700,d=this.$el.is("[data-easing]")?this.$el.attr("data-easing"):"linear",h=e;0===e.find("img").length&&(h=c("body")),imagesLoaded(h,function(){e.carouFredSel({circular:t,infinite:o,height:"auto",responsive:!0,items:{width:s,visible:{min:1,max:n}},swipe:{onTouch:!0,onMouse:!0,options:{excludedElements:"button, input, select, textarea, .noSwipe",tap:function(t,e){!c(e).attr("href")||c(e).is('[target="_blank"]')||c(e).is('[data-fancybox^="group_"]')||c(e).is('[rel^="prettyPhoto"]')||c(e).is(".magnific-popup")||c(e).is(".magnific")||window.open(c(e).attr("href"),"_self")}},onBefore:function(){e.find(".work-item").trigger("mouseleave"),e.find(".work-item .work-info a").trigger("mouseup")}},scroll:{items:a,easing:d,duration:l,onBefore:function(){(0<c("body.ascend").length&&"true"!=e.parents(".carousel-wrap").attr("data-full-width")||0<c("body.material").length&&"true"!=e.parents(".carousel-wrap").attr("data-full-width"))&&e.parents(".carousel-wrap").find(".item-count .total").html(Math.ceil(e.find("> li").length/e.triggerHandler("currentVisible").length))},onAfter:function(){(0<c("body.ascend").length&&"true"!=e.parents(".carousel-wrap").attr("data-full-width")||0<c("body.material").length&&"true"!=e.parents(".carousel-wrap").attr("data-full-width"))&&(e.parents(".carousel-wrap").find(".item-count .current").html(e.triggerHandler("currentPage")+1),e.parents(".carousel-wrap").find(".item-count .total").html(Math.ceil(e.find("> li").length/e.triggerHandler("currentVisible").length)))}},prev:{button:function(){return e.parents(".carousel-wrap").find(".carousel-prev")}},next:{button:function(){return e.parents(".carousel-wrap").find(".carousel-next")}},auto:{play:r}},{transition:!0}).animate({opacity:1},1300),e.parents(".carousel-wrap").wrap('<div class="carousel-outer">'),"true"===e.parents(".carousel-wrap").attr("data-full-width")&&e.parents(".carousel-outer").css("overflow","visible"),(0<c("body.ascend").length&&"true"!=e.parents(".carousel-wrap").attr("data-full-width")||0<c("body.material").length&&"true"!=e.parents(".carousel-wrap").attr("data-full-width"))&&c('<div class="item-count"><span class="current">1</span>/<span class="total">'+e.find("> li").length/e.triggerHandler("currentVisible").length+"</span></div>").insertAfter(e.parents(".carousel-wrap").find(".carousel-prev")),e.addClass("finished-loading"),i.carouselHeightCalcs()})},i.prototype.carouselHeightCalcs=function(){var t,e,i;this.$el.hasClass("finished-loading")&&(e="true"===(t=this).$el.parents(".carousel-wrap").attr("data-full-width")&&0<this.$el.find(".style-2, .style-3, .style-4").length?0:28,i=0,this.$el.find("> li").each(function(){i=c(this).find(".work-meta").height()>i?c(this).find(".work-meta").height():i}),setTimeout(function(){t.$el.parents(".caroufredsel_wrapper").css({height:t.$el.find(".work-item").outerHeight()+i+e-2+"px"})},30),(0<c("body.ascend").length&&"true"!=this.$el.parents(".carousel-wrap").attr("data-full-width")||0<c("body.material").length&&"true"!=this.$el.parents(".carousel-wrap").attr("data-full-width"))&&(this.$el.parents(".carousel-wrap").find(".item-count .current").html(Math.ceil((this.$el.triggerHandler("currentPosition")+1)/this.$el.triggerHandler("currentVisible").length)),this.$el.parents(".carousel-wrap").find(".item-count .total").html(Math.ceil(this.$el.find("> li").length/this.$el.triggerHandler("currentVisible").length))))},window.SalientPortfolio=t,window.SalientRecentProjectsFullScreen=e,window.SalientRecentProjectsCarousel=i}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,a){return jQuery.easing[jQuery.easing.def](t,e,i,n,a)},easeInQuad:function(t,e,i,n,a){return n*(e/=a)*e+i},easeOutQuad:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i},easeInOutQuad:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,a){return n*(e/=a)*e*e+i},easeOutCubic:function(t,e,i,n,a){return n*((e=e/a-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,a){return n*(e/=a)*e*e*e+i},easeOutQuart:function(t,e,i,n,a){return-n*((e=e/a-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,a){return n*(e/=a)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,a){return n*((e=e/a-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,a){return n*Math.sin(e/a*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+i},easeInExpo:function(t,e,i,n,a){return 0==e?i:n*Math.pow(2,10*(e/a-1))+i},easeOutExpo:function(t,e,i,n,a){return e==a?i+n:n*(1-Math.pow(2,-10*e/a))+i},easeInOutExpo:function(t,e,i,n,a){return 0==e?i:e==a?i+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(2-Math.pow(2,-10*--e))+i},easeInCirc:function(t,e,i,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+i},easeOutCirc:function(t,e,i,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+i},easeInOutCirc:function(t,e,i,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,a){var s=1.70158,r=0,o=n;return 0==e?i:1==(e/=a)?i+n:(r=r||.3*a,s=o<Math.abs(n)?(o=n,r/4):r/(2*Math.PI)*Math.asin(n/o),-(o*Math.pow(2,10*--e)*Math.sin(2*(e*a-s)*Math.PI/r))+i)},easeOutElastic:function(t,e,i,n,a){var s=1.70158,r=0,o=n;return 0==e?i:1==(e/=a)?i+n:(r=r||.3*a,s=o<Math.abs(n)?(o=n,r/4):r/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin(2*(e*a-s)*Math.PI/r)+n+i)},easeInOutElastic:function(t,e,i,n,a){var s=1.70158,r=0,o=n;return 0==e?i:2==(e/=a/2)?i+n:(r=r||.3*a*1.5,s=o<Math.abs(n)?(o=n,r/4):r/(2*Math.PI)*Math.asin(n/o),e<1?-.5*o*Math.pow(2,10*--e)*Math.sin(2*(e*a-s)*Math.PI/r)+i:o*Math.pow(2,-10*--e)*Math.sin(2*(e*a-s)*Math.PI/r)*.5+n+i)},easeInBack:function(t,e,i,n,a,s){return null==s&&(s=1.70158),n*(e/=a)*e*((s+1)*e-s)+i},easeOutBack:function(t,e,i,n,a,s){return null==s&&(s=1.70158),n*((e=e/a-1)*e*((s+1)*e+s)+1)+i},easeInOutBack:function(t,e,i,n,a,s){return null==s&&(s=1.70158),(e/=a/2)<1?n/2*e*e*((1+(s*=1.525))*e-s)+i:n/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+i},easeInBounce:function(t,e,i,n,a){return n-jQuery.easing.easeOutBounce(t,a-e,0,n,a)+i},easeOutBounce:function(t,e,i,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,a){return e<a/2?.5*jQuery.easing.easeInBounce(t,2*e,0,n,a)+i:.5*jQuery.easing.easeOutBounce(t,2*e-a,0,n,a)+.5*n+i}}),function(t){var Q=t(window);t.fn.visible=function(t,e,i){if(!(this.length<1)){var n=1<this.length?this.eq(0):this,a=n.get(0),s=Q.width(),r=Q.height(),i=i||"both",o=!0!==e||a.offsetWidth*a.offsetHeight;if("function"==typeof a.getBoundingClientRect){var l=a.getBoundingClientRect(),d=0<=l.top&&l.top<r,h=0<l.bottom&&l.bottom<=r,c=0<=l.left&&l.left<s,f=0<l.right&&l.right<=s,u=t?d||h:d&&h,p=t?c||f:c&&f;if("both"===i)return o&&u&&p;if("vertical"===i)return o&&u;if("horizontal"===i)return o&&p}else{var m=Q.scrollTop(),g=m+r,v=Q.scrollLeft(),w=v+s,y=n.offset(),$=y.top,C=$+n.height(),b=y.left,x=b+n.width(),I=!0===t?C:$,j=!0===t?$:C,_=!0===t?x:b,M=!0===t?b:x;if("both"===i)return!!o&&j<=g&&m<=I&&M<=w&&v<=_;if("vertical"===i)return!!o&&j<=g&&m<=I;if("horizontal"===i)return!!o&&M<=w&&v<=_}}}}(jQuery),jQuery(document).ready(function(e){var i,n,a;"true"!=nectar_theme_info.using_salient&&(i=[],e(".portfolio-items:not(.carousel)").each(function(t){e(this).attr("instance",t),e(this).parent().parent().find("div[class^=portfolio-filters]").attr("instance",t),i[t]=new SalientPortfolio(e(this))}),n=[],e(".nectar_fullscreen_zoom_recent_projects").each(function(t){n[t]=new SalientRecentProjectsFullScreen(e(this))}),a=[],e("ul.portfolio-items.carousel").each(function(t){a[t]=new SalientRecentProjectsCarousel(e(this))}))});