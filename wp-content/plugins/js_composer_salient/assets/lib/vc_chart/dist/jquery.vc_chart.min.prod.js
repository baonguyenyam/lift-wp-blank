"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){function a(t,i){this.el=t,this.$el=o(this.el),this.options=o.extend({color:"rgba(39,207,195,1)",units:"",label_selector:".vc_pie_chart_value",back_selector:".vc_pie_chart_back",responsive:!0},i),this.init()}a.prototype={constructor:a,_progress_v:0,animated:!1,colors:{wpb_button:"rgba(247, 247, 247, 1)","btn-primary":"rgba(0, 136, 204, 1)","btn-info":"rgba(88, 185, 218, 1)","btn-success":"rgba(106, 177, 101, 1)","btn-warning":"rgba(255, 153, 0, 1)","btn-danger":"rgba(255, 103, 91, 1)","btn-inverse":"rgba(85, 85, 85, 1)"},init:function(){this.setupColor(),this.value=this.$el.data("pie-value")/100,this.label_value=this.$el.data("pie-label-value")||this.$el.data("pie-value"),this.$wrapper=o(".vc_pie_wrapper",this.$el),this.$label=o(this.options.label_selector,this.$el),this.$back=o(this.options.back_selector,this.$el),this.$canvas=this.$el.find("canvas"),this.draw(),this.setWayPoint(),!0===this.options.responsive&&this.setResponsive()},setupColor:function(){0<this.$el.data("pie-color").length?this.color=this.$el.data("pie-color"):"string"==typeof this.options.color&&this.options.color.match(/^rgb(a?)\([^\)]\)/)?this.color=this.options.color:this.color="rgba(247, 247, 247, 0.2)"},setResponsive:function(){var t=this;o(window).resize(function(){!0===t.animated&&t.circle.stop(),t.draw(!0)})},draw:function(t){var i=this.$el.width()/100*80,s=i/2-5-1;this.$wrapper.css({width:i+"px"}),this.$label.css({width:i,height:i,"line-height":i+"px"}),this.$back.css({width:i,height:i,opacity:.3}),this.$canvas.attr({width:i+"px",height:i+"px"}),this.circle=new ProgressCircle({canvas:this.$canvas.get(0),minRadius:s,arcWidth:5}),!0===t&&!0===this.animated&&(this._progress_v=this.value,this.circle.addEntry({fillColor:this.color,progressListener:o.proxy(this.setProgress,this)}).start())},setProgress:function(){return this._progress_v>=this.value?(this.circle.stop(),this.$label.html(this.label_value+'<span class="units">'+this.options.units+"</span>")):(this._progress_v+=.005,i=parseInt(this.label_value)?(t=this._progress_v/this.value*this.label_value,Math.round(t)+'<span class="units">'+this.options.units+"</span>"):this.label_value+'<span class="units">'+this.options.units+"</span>",this.$label.html(i)),this._progress_v;var t,i},animate:function(){!0!==this.animated&&(this.animated=!0,this.circle.addEntry({fillColor:this.color,progressListener:o.proxy(this.setProgress,this)}).start(5))},setWayPoint:function(){var t;void 0!==o.fn.waypoint?this.$el.waypoint(o.proxy(this.animate,this),{offset:"85%",triggerOnce:!0}):o((t=this).$el).appear(function(){t.animate()},{accX:0,accY:120})}},o.fn.vcChat=function(e){return this.each(function(){var t=o(this),i=t.data("vc_chart"),s="object"===_typeof(e)?e:{color:t.data("pie-color"),units:t.data("pie-units")};(!i||0<o("#nectar_fullscreen_rows").length)&&t.data("vc_chart",i=new a(this,s)),"string"==typeof e&&i[e]()})},"function"!=typeof window.vc_pieChart&&(window.vc_pieChart=function(){o(".vc_pie_chart").vcChat()}),o(document).ready(function(){0<o(".vc_pie_chart").length&&vc_pieChart()})}(window.jQuery);