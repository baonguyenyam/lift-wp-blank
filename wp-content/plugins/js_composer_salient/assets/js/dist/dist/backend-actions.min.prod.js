"use strict";window.vc||(window.vc={}),function(){var e=vc.events={};_.extend(e,Backbone.Events),e.triggerShortcodeEvents=function(e,t){var s=t.get("shortcode");this.trigger("shortcodes",t,e),this.trigger("shortcodes:"+s,t,e),this.trigger("shortcodes:"+e,t),this.trigger("shortcodes:"+s+":"+e,t),this.trigger("shortcodes:"+s+":"+e+":parent:"+t.get("parent_id"),t),this.triggerParamsEvents(e,t)},e.triggerParamsEvents=function(t,s){var c=s.get("shortcode"),o=_.extend({},s.get("params")),e=vc.map[c];_.isArray(e.params)&&_.each(e.params,function(e){this.trigger("shortcodes:"+t+":param",s,o[e.param_name],e),this.trigger("shortcodes:"+c+":"+t+":param",s,o[e.param_name],e),this.trigger("shortcodes:"+t+":param:type:"+e.type,s,o[e.param_name],e),this.trigger("shortcodes:"+c+":"+t+":param:type:"+e.type,s,o[e.param_name],e),this.trigger("shortcodes:"+t+":param:name:"+e.param_name,s,o[e.param_name],e),this.trigger("shortcodes:"+c+":"+t+":param:name:"+e.param_name,s,o[e.param_name],e)},this)}}(window.jQuery),function(e){vc.AccessPolicyConstructor=function(){this.accessPolicy={},vc.events.trigger("vc:access:initialize",this)},vc.AccessPolicyConstructor.prototype={accessPolicy:{},add:function(e,t){t=!!_.isUndefined(t)||!!t,this.accessPolicy[e]=t},can:function(e){return!!this.accessPolicy[e]}},e(function(){vc.accessPolicy=new vc.AccessPolicyConstructor})}(window.jQuery),function(a){vc.events.on("vc:access:initialize",function(e){e.add("be_editor",vc_user_access().editor("backend_editor")),e.add("fe_editor",window.vc_frontend_enabled&&vc_user_access().editor("frontend_editor")),e.add("classic_editor",!vc_user_access().check("backend_editor","disabled_ce_editor",void 0,!0)),window.vc.gridItemEditor||vc.events.trigger("vc:access:backend:ready",e)}),vc.events.on("vc:access:backend:ready",function(e){var t,s,c=s=t="",o=a("div#titlediv"),i=0==a("#nectar-metabox-portfolio-extra").length?o:a("#post-body-content"),r=0==a("#nectar-metabox-portfolio-extra").length?"#post-body-content > .composer-switch":"#post-body > .composer-switch",n=document.getElementById("editor");o.length?(e.can("fe_editor")&&(t='<a class="wpb_switch-to-front-composer" href="'+a("#wpb-edit-inline").attr("href")+'">'+window.i18nLocale.main_button_title_frontend_editor+"</a>"),e.can("classic_editor")?e.can("be_editor")&&(s='<a class="wpb_switch-to-composer" href="javascript:;">'+window.i18nLocale.main_button_title_backend_editor+"</a>"):(a("#postdivrich").addClass("vc-disable-editor"),e.can("be_editor")&&!vc_user_access().isBlockEditorIsEnabled()&&_.defer(function(){vc.events.trigger("vc:backend_editor:show")})),window.wpbIsGutenberg&&(c='<a class="wpb_switch-to-gutenberg" href="'+window.wpbGutenbergEditorSWitchUrl+'">'+window.i18nLocale.main_button_title_gutenberg+"</a>"),(t||s||c)&&(o.length?a('<div class="composer-switch"><div class="composer-inner-switch"><span class="logo-icon"></span>'+s+t+"</div>"+c+"</div>").insertAfter(i):a('<div class="composer-switch"><div class="composer-inner-switch"><span class="logo-icon"></span>'+s+t+"</div>"+c+"</div>").prependTo("#post-body-content"),e.can("classic_editor")&&a(r).find(".wpb_switch-to-composer").on("click",function(e){vc.events.trigger("vc:backend_editor:switch")}))):n&&setTimeout(function(){s='<a class="wpb_switch-to-composer" href="'+window.wpbGutenbergEditorClassicSWitchUrl+'">'+window.i18nLocale.main_button_title+"</a>";var e=n.querySelector(".edit-post-header-toolbar");0<a('body.wp-admin[class*="version-5-6"], body.wp-admin[class*="version-5-7"]').length&&(e=n.querySelector(".edit-post-header__settings")),e&&a('<div class="composer-switch"><div class="composer-inner-switch"><span class="logo-icon"></span>'+s+"</div></div>").appendTo(e)},1)})}(window.jQuery);